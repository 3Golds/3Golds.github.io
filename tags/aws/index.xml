<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>aws on èµµé‘«çš„åšå®¢</title>
    <link>http://zhaox.xyz/tags/aws/</link>
    <description>Recent content in aws on èµµé‘«çš„åšå®¢</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 30 Oct 2017 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="http://zhaox.xyz/tags/aws/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>è§£å†³ AWS ELB å¶å‘çš„ 502 Bad Gateway é”™è¯¯</title>
      <link>http://zhaox.xyz/posts/2017-10-27-aws-elb-502/</link>
      <pubDate>Mon, 30 Oct 2017 00:00:00 +0000</pubDate>
      
      <guid>http://zhaox.xyz/posts/2017-10-27-aws-elb-502/</guid>
      <description>é—®é¢˜æè¿° åœ¨ä½¿ç”¨äº† Prometheus åšäº† HTTP åè®®çš„ç›‘æ§ä¹‹åï¼Œblackbox_exporter å¶å°”ä¼šæŠ¥ä¸€äº› ProbeDown çš„æŠ¥è­¦ï¼Œç»è¿‡æ£€æŸ¥æ˜¯ 502 Bad Gateway é”™è¯¯ï¼Œä½†æ­¤æ—¶åç«¯æ˜¯æ­£å¸¸çš„ï¼Œåªæ˜¯åœ¨ AWS ELB çš„ç›‘æ§æŒ‡æ ‡ä¸­ï¼Œçœ‹åˆ°äº† ELB HTTP 5xx ç›¸å…³é”™è¯¯ï¼Œå› æ­¤å›°æ‰°äº†ä¸€æ®µæ—¶é—´ã€‚
HTTP æ•°æ®æµå‘å¦‚ä¸‹ï¼š
 [Client] --- [ELB] --- [nginx] --- [App Servers]  æ’æŸ¥é—®é¢˜ æœ€å¼€å§‹æ˜¯æ€€ç–‘æ˜¯åç«¯é—®é¢˜ï¼Œä½†æ˜¯æŸ¥é˜…äº† nginx å’Œ App servers çš„æ—¥å¿—ï¼Œæ²¡æœ‰ä»»ä½•ç»“æœï¼Œåªæ˜¯åœ¨ ELB æ—¥å¿—é‡Œé¢æ‰¾åˆ°äº† 502 Bad Gateway çš„é”™è¯¯ä¿¡æ¯ã€‚æ— å¥ˆä¹‹ä¸‹ç”šè‡³æ€€ç–‘ nginx æ‰€åœ¨ EC2 instance æœ‰é—®é¢˜ï¼Œå› æ­¤æ±‚åŠ©äº† AWS æŠ€æœ¯æ”¯æŒã€‚æ ¹æ®å»ºè®®ï¼Œåœ¨ nginx è¿™ç«¯åšäº† tcpdump æŠ“åŒ…ï¼Œæœ€åç»ˆäºåœ¨ AWS æŠ€æœ¯æ”¯æŒçš„å¸®åŠ©ä¸‹ï¼Œå®šä½å¹¶è§£å†³äº†é—®é¢˜ ğŸ‰ã€‚
å…ˆè¡¥å……ä¸€ä¸ªçŸ¥è¯†ï¼šå¦‚æœåç«¯æ”¯æŒçš„è¯ï¼ŒELB ä¼šä½¿ç”¨ä¿æŒè¿æ¥ï¼ˆHTTP persistent/keep-alive connectionsï¼‰ã€‚æ¥çœ‹çœ‹è¿™ä¸€ä¸ªä¿æŒè¿æ¥çš„ TCP streamï¼š
å…¶ä¸­ï¼Œ10.100.2.186 æ˜¯ ELB å†…éƒ¨ IPï¼Œ10.</description>
    </item>
    
    <item>
      <title>AWS EBS åœ¨çº¿æ‰©å®¹</title>
      <link>http://zhaox.xyz/posts/2017-02-17-aws-%E5%9C%A8%E7%BA%BF%E6%89%A9%E5%AE%B9/</link>
      <pubDate>Fri, 17 Feb 2017 00:00:00 +0000</pubDate>
      
      <guid>http://zhaox.xyz/posts/2017-02-17-aws-%E5%9C%A8%E7%BA%BF%E6%89%A9%E5%AE%B9/</guid>
      <description>AWS Management Console æ‰©å®¹ebså®¹é‡ åŸæ–‡è¿æ¥ï¼šhttps://aws.amazon.com/blogs/aws/amazon-ebs-update-new-elastic-volumes-change-everything/
1.é€‰æ‹©æ‰©å®¹è®¾å¤‡ 2.ä¿®æ”¹æ‰©å®¹å®¹é‡ 4.ç­‰å¾…å…¶çŠ¶æ€è¾¾åˆ°100% æ‰©å®¹ç£ç›˜åˆ†åŒº growpart
 growpart /dev/xvdf 1  parted
 GNU Parted 2.3 Using /dev/xvdf1 Welcome to GNU Parted! Type &#39;help&#39; to view a list of commands. (parted) print Model: Unknown (unknown) Disk /dev/xvdf1: 80.7GB Sector size (logical/physical): 512B/512B Partition Table: loop Number Start End Size File system Flags 1 0.00B 53.7GB 53.7GB ext4 (parted) resizepart 1 80.7GB # resizepart NUMBER END Warning: Partition /dev/xvdf1 is being used.</description>
    </item>
    
  </channel>
</rss>